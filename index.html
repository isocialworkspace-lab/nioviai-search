<!DOCTYPE html>
<html lang="el">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Niovi AI | Strategic Search Engine</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        body { font-family: 'Inter', sans-serif; background-color: #f8fafc; }
        .hero-gradient { background: linear-gradient(135deg, #0f172a 0%, #1e40af 100%); }
        .glass-card { background: rgba(255, 255, 255, 0.98); backdrop-filter: blur(10px); border: 1px solid rgba(226, 232, 240, 0.8); }
        .search-input:focus { box-shadow: 0 0 0 4px rgba(59, 130, 246, 0.15); }
    </style>
</head>
<body class="min-h-screen">

    <nav class="bg-white/80 backdrop-blur-md sticky top-0 z-50 border-b border-slate-200">
        <div class="max-w-6xl mx-auto px-6 h-16 flex justify-between items-center">
            <div class="flex items-center gap-2">
                <div class="w-8 h-8 hero-gradient rounded-lg flex items-center justify-center text-white font-bold text-xs shadow-lg">NC</div>
                <span class="font-bold text-slate-800 tracking-tight">Niovi<span class="text-blue-600 font-extrabold">AI</span></span>
            </div>
            <div class="flex items-center gap-4 text-[10px] font-bold text-slate-400 uppercase tracking-widest">
                <span>Public Strategy Tool</span>
                <span class="w-1.5 h-1.5 bg-green-500 rounded-full"></span>
            </div>
        </div>
    </nav>

    <header class="hero-gradient pt-24 pb-32 px-6 text-center text-white relative">
        <div class="max-w-4xl mx-auto relative z-10">
            <h1 class="text-4xl md:text-6xl font-extrabold mb-6 tracking-tight">Στρατηγική & Περιεχόμενο</h1>
            <p class="text-blue-100 text-lg md:text-xl mb-12 opacity-90 max-w-2xl mx-auto leading-relaxed">
                Ρωτήστε την AI για ιδέες βίντεο, ανάλυση επιστημονικών θεμάτων ή στρατηγική επικοινωνίας για τη Νιόβη Χριστοπούλου.
            </p>
            
            <div class="relative max-w-2xl mx-auto">
                <input type="text" id="queryInput" 
                    class="w-full pl-6 pr-32 py-5 rounded-2xl text-slate-900 text-lg shadow-2xl outline-none search-input transition-all"
                    placeholder="Π.χ. Script για TikTok σχετικά με το AI Act...">
                <button id="searchBtn" 
                    class="absolute right-2 top-2 bottom-2 px-8 bg-blue-600 hover:bg-blue-700 text-white font-bold rounded-xl transition-all shadow-lg active:scale-95">
                    Αναζήτηση
                </button>
            </div>
        </div>
    </header>

    <main class="max-w-4xl mx-auto px-6 -mt-16 pb-20">
        <div id="loading" class="hidden glass-card p-16 rounded-3xl text-center shadow-2xl">
            <div class="inline-flex gap-2 mb-4">
                <div class="w-3 h-3 bg-blue-600 rounded-full animate-bounce"></div>
                <div class="w-3 h-3 bg-blue-600 rounded-full animate-bounce" style="animation-delay: 0.2s"></div>
                <div class="w-3 h-3 bg-blue-600 rounded-full animate-bounce" style="animation-delay: 0.4s"></div>
            </div>
            <p class="text-slate-500 font-medium">Η τεχνητή νοημοσύνη επεξεργάζεται τη στρατηγική...</p>
        </div>

        <div id="results" class="hidden space-y-6">
            <div class="glass-card p-8 md:p-12 rounded-3xl shadow-2xl">
                <div class="flex items-center gap-3 mb-8 pb-6 border-b border-slate-100">
                    <div class="w-10 h-10 bg-blue-50 text-blue-600 rounded-full flex items-center justify-center">
                        <i class="fas fa-sparkles"></i>
                    </div>
                    <div>
                        <h2 class="font-bold text-slate-800">Σύμβουλος AI</h2>
                        <span class="text-[10px] text-gray-400 font-bold uppercase tracking-widest">Live Strategy Proposal</span>
                    </div>
                </div>

                <div id="answerContent" class="prose prose-slate max-w-none text-slate-700 leading-relaxed text-lg">
                    <!-- AI Content -->
                </div>

                <div class="mt-12 flex justify-between items-center pt-8 border-t border-slate-50">
                    <div class="text-[10px] text-slate-400 font-bold uppercase tracking-widest">
                        Powered by Gemini 2.5 Flash
                    </div>
                    <button onclick="copyContent()" class="text-slate-400 hover:text-blue-600 transition-colors flex items-center gap-2 font-bold text-xs">
                        <i class="fas fa-copy"></i> ΑΝΤΙΓΡΑΦΗ
                    </button>
                </div>
            </div>

            <div id="groundingBox" class="bg-slate-50 rounded-2xl p-6 border border-slate-200 hidden">
                <h4 class="text-[10px] font-bold text-slate-400 uppercase tracking-widest mb-4">Πηγές & Τεκμηρίωση</h4>
                <div id="sourcesList" class="flex flex-wrap gap-2"></div>
            </div>
        </div>

        <div id="suggestions" class="mt-12 text-center">
            <p class="text-slate-400 text-[10px] font-bold uppercase tracking-widest mb-6">Προτεινόμενες ερωτήσεις</p>
            <div class="flex flex-wrap justify-center gap-2">
                <button onclick="quickSearch('Πρότεινε ένα Reel: Σύγκριση Νέας Υόρκης και Αθήνας στο Fintech')" class="px-4 py-2 bg-white border border-slate-200 rounded-full text-xs font-semibold text-slate-600 hover:border-blue-500 hover:text-blue-600 transition-all">#NYCvsAthens</button>
                <button onclick="quickSearch('Script για TikTok: Πώς το AI βοηθάει τους απόδημους Έλληνες;')" class="px-4 py-2 bg-white border border-slate-200 rounded-full text-xs font-semibold text-slate-600 hover:border-blue-500 hover:text-blue-600 transition-all">#ΑπόδημοιAI</button>
                <button onclick="quickSearch('Πώς να παρουσιάσω την επιστημονική μου ιδιότητα με Lifestyle τρόπο;')" class="px-4 py-2 bg-white border border-slate-200 rounded-full text-xs font-semibold text-slate-600 hover:border-blue-500 hover:text-blue-600 transition-all">#ExpertLifestyle</button>
            </div>
        </div>
    </main>

    <footer class="py-12 text-center">
        <p class="text-slate-400 text-[10px] font-bold uppercase tracking-widest">Niovi Christopoulou &bull; Digital Strategy 2024</p>
    </footer>

    <script>
        // Ενσωματωμένο API Key
        const apiKey = "AIzaSyCbBRJjJ1LsN_NQmSADmKFjcekf7b8Gp-c"; 

        const queryInput = document.getElementById('queryInput');
        const searchBtn = document.getElementById('searchBtn');
        const loading = document.getElementById('loading');
        const results = document.getElementById('results');
        const answerContent = document.getElementById('answerContent');
        const sourcesList = document.getElementById('sourcesList');
        const groundingBox = document.getElementById('groundingBox');

        const systemPrompt = `Είσαι ο στρατηγικός σύμβουλος Social Media της Νιόβης Χριστοπούλου. 
        Πληροφορίες Πελάτη:
        - Νιόβη Χριστοπούλου: Νομικός, Δικηγόρος Νέας Υόρκης, Διδάσκει Business Law, Partner σε AI Fund.
        - Περσόνα: Διεθνής Ελληνίδα, Γεφυρώνει Ηπείρους, Εκπροσώπηση Αποδήμων.
        - Πυλώνες: Επιστημονικό (AI Act, Fintech, Cloud), Lifestyle (NYC vs Greece), Πολιτικό (Brain Gain, Απόδημοι).
        - Στόχος: Φρέσκο, όχι βαρετό περιεχόμενο με έμφαση στα βίντεο.
        
        Όταν σου ζητούνται ιδέες:
        1. Δώσε συγκεκριμένα hooks (την πρώτη φράση του βίντεο).
        2. Περίγραψε το οπτικό πλάνο (π.χ. "Περπατάς στη Fifth Avenue").
        3. Σύνδεσε την επιστημονική γνώση με την καθημερινότητα.
        Απάντησε στα ελληνικά, χρησιμοποίησε bullets και έντονη γραφή (bold).`;

        async function performSearch(query) {
            if (!query) return;
            
            loading.classList.remove('hidden');
            results.classList.add('hidden');
            searchBtn.disabled = true;

            try {
                // Χρήση του μοντέλου gemini-2.5-flash-preview-09-2025 με Google Search εργαλείο
                const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${apiKey}`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        contents: [{ parts: [{ text: query }] }],
                        systemInstruction: { parts: [{ text: systemPrompt }] },
                        tools: [{ "google_search": {} }]
                    })
                });

                const data = await response.json();
                
                if (data.error) {
                    throw new Error(data.error.message);
                }

                const text = data.candidates?.[0]?.content?.parts?.[0]?.text || "Δεν βρέθηκε αποτέλεσμα.";
                const attributions = data.candidates?.[0]?.groundingMetadata?.groundingAttributions || [];

                renderResult(text, attributions);
            } catch (error) {
                console.error(error);
                alert("Σφάλμα σύνδεσης: " + error.message);
            } finally {
                loading.classList.add('hidden');
                results.classList.remove('hidden');
                searchBtn.disabled = false;
            }
        }

        function renderResult(text, attributions) {
            // Μετατροπή Markdown σε HTML
            let html = text
                .replace(/\n/g, '<br>')
                .replace(/\*\*(.*?)\*\*/g, '<strong class="text-slate-900 font-bold">$1</strong>')
                .replace(/### (.*?)(<br>|$)/g, '<h3 class="text-xl font-bold text-blue-800 mt-6 mb-3">$1</h3>')
                .replace(/- (.*?)(<br>|$)/g, '<div class="flex gap-2 mb-2"><span class="text-blue-500 font-bold">→</span><span>$1</span></div>');
            
            answerContent.innerHTML = html;

            sourcesList.innerHTML = '';
            if (attributions.length > 0) {
                groundingBox.classList.remove('hidden');
                attributions.forEach(attr => {
                    if (attr.web) {
                        const a = document.createElement('a');
                        a.href = attr.web.uri;
                        a.target = "_blank";
                        a.className = "px-3 py-1 bg-white border border-slate-200 rounded-full text-[10px] text-slate-500 hover:text-blue-600 transition-all";
                        a.innerText = attr.web.title;
                        sourcesList.appendChild(a);
                    }
                });
            } else {
                groundingBox.classList.add('hidden');
            }
        }

        async function fetchWithRetry(url, options, retries = 3) {
            for (let i = 0; i < retries; i++) {
                try {
                    const res = await fetch(url, options);
                    if (res.ok) return res;
                } catch (e) {}
                await new Promise(r => setTimeout(r, 1000 * (i + 1)));
            }
            throw new Error("Connection Failure");
        }

        function quickSearch(val) {
            queryInput.value = val;
            performSearch(val);
        }

        function copyContent() {
            const text = answerContent.innerText;
            const el = document.createElement('textarea');
            el.value = text;
            document.body.appendChild(el);
            el.select();
            document.execCommand('copy');
            document.body.removeChild(el);
            alert("Το κείμενο αντιγράφηκε!");
        }

        searchBtn.addEventListener('click', () => performSearch(queryInput.value));
        queryInput.addEventListener('keypress', (e) => e.key === 'Enter' && performSearch(queryInput.value));
    </script>
</body>
</html>
